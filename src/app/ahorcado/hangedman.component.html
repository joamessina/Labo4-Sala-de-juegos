<!-- Shell: ocupa la altura y centra el contenido -->
<div class="hm-shell vh-100 d-flex justify-content-center align-items-center">
  <!-- Tarjeta del juego -->
  <div class="hm-container container-xxl">
    <!-- Alertas de fin de juego (quedan arriba de la tarjeta) -->

    <!-- Overlay / Modal de fin de juego -->
    <div class="overlay" *ngIf="endOfGame">
      <div class="endcard shadow">
        <h5
          class="title"
          [class.text-success]="guesses > 0"
          [class.text-danger]="guesses <= 0"
        >
          {{ guesses > 0 ? "¡Victoria!" : "¡Perdiste!" }}
        </h5>

        <!-- Muestra la palabra si perdió -->
        <p class="muted" *ngIf="guesses <= 0">
          La palabra era: <strong>{{ word }}</strong>
        </p>

        <div class="actions">
          <button class="btn btn-primary btn-sm" (click)="playAgain()">
            Jugar de nuevo
          </button>
          <button class="btn btn-outline-secondary btn-sm" (click)="goHome()">
            Volver al Home
          </button>
        </div>
      </div>
    </div>

    <div class="row g-4 align-items-center">
      <div class="col-lg-6 order-lg-2">
        <div class="game-copy">
          <h2 class="fw-bold mb-2">El Ahorcado</h2>
          <p class="lead m-0">
            El ahorcado es un juego, originalmente de lápiz y papel, para dos o
            más jugadores. Un jugador piensa en una palabra, frase u oración y
            el otro trata de adivinarla según lo que sugiere por letras o dentro
            de un cierto número de oportunidades.
          </p>
        </div>
      </div>

      <!-- Dibujo + palabra + teclado -->
      <div class="col-lg-6 order-lg-1">
        <div class="hang-wrap">
          <div
            class="hanged-man d-flex justify-content-center align-items-center"
          >
            <img *ngIf="guesses == 6" src="assets/hangedman/hm1.png" />
            <img *ngIf="guesses == 5" src="assets/hangedman/hm2.png" />
            <img *ngIf="guesses == 4" src="assets/hangedman/hm3.png" />
            <img *ngIf="guesses == 3" src="assets/hangedman/hm4.png" />
            <img *ngIf="guesses == 2" src="assets/hangedman/hm5.png" />
            <img *ngIf="guesses == 1" src="assets/hangedman/hm6.png" />
            <img *ngIf="guesses == 0" src="assets/hangedman/hm7.png" />
          </div>

          <div class="word-panel">
            <div class="word-row"></div>
            <div class="status-row">
              Intentos restantes: <strong>{{ guesses }}</strong>
            </div>
          </div>

          <!-- FILA DE CASILLAS DE LA PALABRA -->
          <div class="word-row" aria-label="Casillas de la palabra">
            <span class="slot" *ngFor="let ch of wordChars">
              <span class="letter">{{
                guessedLetters.includes(ch) ? ch : ""
              }}</span>
            </span>
          </div>

          <div class="keyboard" #keyboard aria-label="Teclado del juego">
            <div class="key-row">
              <button class="key">Q</button><button class="key">W</button
              ><button class="key">E</button> <button class="key">R</button
              ><button class="key">T</button><button class="key">Y</button>
              <button class="key">U</button><button class="key">I</button
              ><button class="key">O</button>
              <button class="key">P</button>
            </div>
            <div class="key-row">
              <button class="key">A</button><button class="key">S</button
              ><button class="key">D</button> <button class="key">F</button
              ><button class="key">G</button><button class="key">H</button>
              <button class="key">J</button><button class="key">K</button
              ><button class="key">L</button>
            </div>
            <div class="key-row">
              <button class="key">Z</button><button class="key">X</button
              ><button class="key">C</button> <button class="key">V</button
              ><button class="key">B</button><button class="key">N</button>
              <button class="key">M</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
