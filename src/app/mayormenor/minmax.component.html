<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="square-loader"
  [fullScreen]="true"
  ><p style="color: white">Cargando...</p></ngx-spinner
>

<div class="vh-100 d-flex justify-content-center align-items-center">
  <div class="container d-flex justify-content-center align-items-center">
    <!-- Overlay de fin de juego -->
    <div class="overlay" *ngIf="endOfGame">
      <div class="endcard shadow">
        <h5 class="mb-2 text-danger">{{ endMsg }}</h5>
        <div class="d-flex gap-2 justify-content-center">
          <button class="btn btn-primary btn-sm" (click)="playAgain()">
            Jugar de nuevo
          </button>
          <button class="btn btn-outline-secondary btn-sm" (click)="goHome()">
            Volver al Home
          </button>
        </div>
      </div>
    </div>

    <div class="row featurette">
      <div class="col-md-7 order-md-2 game-div">
        <h2 class="featurette-heading fw-normal lh-1">
          ¿Mayor o Menor?
          <span class="text-body-secondary">Hasta donde llegaras.</span>
        </h2>
        <p class="lead">
          En este juego se muestra una carta y el jugador debe adivinar si la
          siguiente será mayor o menor en valor. Cada acierto suma un punto. El
          juego continúa hasta que se cometa un error o se termine la partida.
        </p>
      </div>
      <div
        class="col-md-5 order-md-1 d-flex justify-content-center align-items-center"
      >
        <div class="game-div">
          <p>Puntuación: {{ puntuacion }}</p>

          <div class="container">
            <img
              src="assets/minmax/cardback.png"
              alt="Poker Deck"
              class="deck-image"
            />
            <img
              src="assets/minmax/jokercard.jpg"
              alt="Card"
              class="card-image"
              *ngIf="!currentCard"
            />
            <img
              [src]="currentCard.img"
              alt="Card"
              class="draw-image"
              *ngIf="currentCard"
            />
          </div>

          <div class="d-flex align-items-center justify-content-center">
            <button
              *ngIf="!currentCard"
              (click)="getDeckOfCards()"
              style="width: 100%"
            >
              Robar la primera Carta
            </button>

            <button *ngIf="currentCard && !endOfGame" (click)="isSmaller()">
              Menor
            </button>
            <button *ngIf="currentCard && !endOfGame" (click)="isBigger()">
              Mayor
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
