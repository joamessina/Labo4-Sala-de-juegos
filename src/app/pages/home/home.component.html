<div class="home-wrap">
  <div class="card shadow-sm">
    <div class="card-body p-3">
      <h1 class="h5 mb-3">Bienvenido a la Sala de Juegos</h1>

      <!-- Banner de sesión -->
      <div
        *ngIf="isLogged(); else noLogueado"
        class="alert alert-success d-flex justify-content-between align-items-center compact-alert mb-3"
      >
        <div><strong>Sesión activa:</strong> {{ userEmail() }}</div>
        <button class="btn btn-outline-danger btn-sm" (click)="logout()">
          Log Out
        </button>
      </div>

      <!-- Banner cuando NO hay sesión -->
      <ng-template #noLogueado>
        <div class="alert alert-warning compact-alert mb-3">
          No iniciaste sesión.
          <a routerLink="/login" class="ms-2">Login</a> ·
          <a routerLink="/register">Registro</a>
        </div>
      </ng-template>

      <p class="text-muted small mb-2">Elegí una opción para comenzar:</p>

      <div class="row g-2">
        <!-- ACCEDER: solo si NO está logueado -->
        <div class="col-sm-6" *ngIf="!isLogged()">
          <div class="card border-0 h-100 bg-light compact-card">
            <div class="card-body p-3">
              <h5 class="card-title h6 mb-2">Acceder</h5>
              <p class="card-text small mb-3">
                Iniciá sesión para jugar y registrar tu progreso.
              </p>
              <a routerLink="/login" class="btn btn-primary btn-sm w-100"
                >Ir al Login</a
              >
              <div class="text-center mt-2">
                <a routerLink="/register" class="small"
                  >¿No tenés cuenta? Registrate</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- QUIÉN SOY: siempre visible -->
        <div class="col-sm-6">
          <div class="card border-0 h-100 bg-light compact-card">
            <div class="card-body p-3">
              <h5 class="card-title h6 mb-2">Quién Soy</h5>
              <p class="card-text small mb-3">
                Datos del alumno y descripción del juego propio.
              </p>
              <a
                routerLink="/quien-soy"
                class="btn btn-outline-primary btn-sm w-100"
                >Ver sección</a
              >
            </div>
          </div>
        </div>
      </div>

      <hr class="my-3" />

      <p class="text-muted small mb-2">Acceso a juegos y listados:</p>
      <div class="row g-2">
        <div class="col-sm-6 col-lg-4">
          <div class="card h-100 bg-light border-0 compact-card">
            <div class="card-body p-3">
              <h5 class="card-title h6 mb-2">Ahorcado</h5>
              <p class="card-text small mb-3">Juego de adivinar palabras.</p>

              <!-- Si NO está logueado, botón deshabilitado -->
              <a
                *ngIf="!isLogged()"
                class="btn btn-secondary btn-sm w-100 disabled"
              >
                Iniciá sesión para jugar
              </a>

              <!-- Si está logueado, linkea al juego -->
              <a
                *ngIf="isLogged()"
                routerLink="/juegos/ahorcado"
                class="btn btn-primary btn-sm w-100"
              >
                Jugar
              </a>
            </div>
          </div>
        </div>

        <!-- más tarjetas acá -->
        <div class="col-sm-6 col-lg-4">
          <div class="card h-100 bg-light border-0 compact-card">
            <div class="card-body p-3">
              <h5 class="card-title h6 mb-2">¿Mayor o Menor?</h5>
              <p class="card-text small mb-3">Hasta dónde llegarás.</p>

              <a
                *ngIf="!isLogged()"
                class="btn btn-secondary btn-sm w-100 disabled"
              >
                Iniciá sesión para jugar
              </a>
              <a
                *ngIf="isLogged()"
                routerLink="/juegos/mayor-menor"
                class="btn btn-primary btn-sm w-100"
              >
                Jugar
              </a>
            </div>
          </div>
        </div>

        <div class="col-sm-6 col-lg-4">
          <div class="card h-100 bg-light border-0 compact-card">
            <div class="card-body p-3">
              <label class="form-label">Preguntados</label>
              <p>Juego de adivinar personajes de Los Simpsons.</p>
              <a
                *ngIf="!isLogged()"
                class="btn btn-secondary btn-sm w-100 disabled"
              >
                Iniciá sesión para jugar
              </a>
              <a
                *ngIf="isLogged()"
                routerLink="/juegos/preguntados"
                class="btn btn-primary btn-sm w-100"
              >
                Jugar
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
